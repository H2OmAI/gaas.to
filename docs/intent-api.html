<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intent Declaration API â€” GaaS Documentation</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&family=JetBrains+Mono:wght@400;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
  <header>
    <a class="logo" href="index.html"><img src="logo.png" alt="GaaS"></a>
    <nav>
      <a href="index.html">Docs</a>
      <a href="https://gaas.is">Home</a>
      <a href="https://github.com/H2OmAI">GitHub</a>
    </nav>
  </header>

  <main>
    <h1 class="fade-in">Intent Declaration API</h1>
    <p class="subtitle fade-in">
      The front door to GaaS governance. Every AI agent action begins with an intent declaration.
    </p>

    <h2 class="fade-in">Core Concept</h2>
    <p>
      Before an AI agent takes any action, it declares <em>what</em> it intends to do, <em>to whom</em>, and with <em>what impact</em>. GaaS evaluates that declaration through a multi-stage governance pipeline and returns a decision: approve, modify, escalate, or block.
    </p>
    <p>
      If an agent can't declare it, it can't do it. Opacity of intent is the primary risk vector in autonomous AI systems &mdash; GaaS eliminates it at the point of entry.
    </p>

    <h2 class="fade-in">Authentication</h2>
    <p>
      Every request requires an API key scoped to your organization. Keys are environment-specific:
    </p>
    <table>
      <tr><th>Environment</th><th>Purpose</th></tr>
      <tr><td><code>live</code></td><td>Production &mdash; decisions are enforced</td></tr>
      <tr><td><code>shadow</code></td><td>Shadow mode &mdash; decisions are logged, not enforced</td></tr>
      <tr><td><code>test</code></td><td>Testing &mdash; no audit trail, no rate limits</td></tr>
    </table>

    <h2 class="fade-in">Submitting an Intent</h2>
    <p>
      An intent declaration includes the agent's identity, the action it wants to take, the target, the expected impact, and any context the agent already has. The schema adapts &mdash; lightweight for routine actions, verbose for high-stakes ones.
    </p>
    <pre><code>POST /v1/intents
Content-Type: application/json
Authorization: Bearer your_api_key

{
  "intent": {
    "agent": {
      "id": "customer_service_bot_v2"
    },
    "action": {
      "type": "communicate",
      "verb": "send_email",
      "target": {
        "type": "person",
        "identifier": "customer@example.com",
        "sensitivity": "confidential"
      },
      "payload": {
        "summary": "Send loan rate quote with APR disclosure",
        "content": {
          "recipient": "customer@example.com",
          "channel": "email",
          "message_body": "..."
        },
        "estimated_impact": {
          "reversible": true,
          "financial_exposure_usd": 0,
          "audience_size": 1,
          "regulatory_domains": ["TILA"]
        }
      }
    }
  }
}</code></pre>

    <h2 class="fade-in">Action Types</h2>
    <p>
      GaaS recognizes seven categories of agent action, each with different governance implications:
    </p>
    <table>
      <tr><th>Type</th><th>Description</th></tr>
      <tr><td><code>communicate</code></td><td>Sending information to a person or system</td></tr>
      <tr><td><code>transact</code></td><td>Moving money, assets, or value</td></tr>
      <tr><td><code>access</code></td><td>Reading or retrieving sensitive information</td></tr>
      <tr><td><code>control</code></td><td>Operating a physical or digital system</td></tr>
      <tr><td><code>publish</code></td><td>Making content publicly visible</td></tr>
      <tr><td><code>recommend</code></td><td>Advising a human on a decision</td></tr>
      <tr><td><code>modify</code></td><td>Changing a record, configuration, or state</td></tr>
    </table>

    <h2 class="fade-in">The Governance Decision</h2>
    <p>
      Every intent submission returns a governance decision with one of four verdicts:
    </p>
    <table class="verdict-table">
      <tr><th>Verdict</th><th>What it means</th></tr>
      <tr><td>approve</td><td>Action may proceed as declared</td></tr>
      <tr><td>approve_modified</td><td>Action may proceed with modifications &mdash; use the returned payload, not the original</td></tr>
      <tr><td>escalate</td><td>Action requires human review before proceeding</td></tr>
      <tr><td>block</td><td>Action is denied, with reasoning and suggested alternatives</td></tr>
    </table>

    <div class="note">
      <strong>Note:</strong> A <code>block</code> returns HTTP 200, not 403. A block is a successful governance decision, not an error. HTTP 4xx codes are reserved for actual request failures.
    </div>

    <p>
      Decisions include a risk assessment, the list of pipeline stages that executed, and a reference to the full audit record.
    </p>

    <h2 class="fade-in">Endpoints</h2>
    <div class="endpoint">
      <span class="method method-post">POST</span>
      <span class="path">/v1/intents</span>
      <p class="desc">Submit an intent for synchronous governance evaluation</p>
    </div>
    <div class="endpoint">
      <span class="method method-post">POST</span>
      <span class="path">/v1/intents/async</span>
      <p class="desc">Submit an intent for asynchronous evaluation with webhook or polling</p>
    </div>
    <div class="endpoint">
      <span class="method method-get">GET</span>
      <span class="path">/v1/intents/{intent_id}/decision</span>
      <p class="desc">Retrieve the governance decision for a previously submitted intent</p>
    </div>
    <div class="endpoint">
      <span class="method method-get">GET</span>
      <span class="path">/v1/intents/{intent_id}/audit</span>
      <p class="desc">Retrieve the full governance audit trail</p>
    </div>
    <div class="endpoint">
      <span class="method method-get">GET</span>
      <span class="path">/v1/intents</span>
      <p class="desc">List and filter intent declarations</p>
    </div>
    <div class="endpoint">
      <span class="method method-post">POST</span>
      <span class="path">/v1/agents</span>
      <p class="desc">Register an agent with GaaS</p>
    </div>

    <h2 class="fade-in">SDKs</h2>
    <p>
      Official SDKs for Python and TypeScript handle authentication, request construction, and response parsing. See the <a class="link" href="getting-started.html">Getting Started</a> guide for usage examples.
    </p>

  </main>

  <footer>
    <a href="https://gaas.is">&copy; H2Om</a>
  </footer>

  <script>
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
  </script>
</body>
</html>
